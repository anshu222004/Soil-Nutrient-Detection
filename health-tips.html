<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Health Tips | AirSafe</title>
  <style>
    :root{
      --mustard:#ffb300;
      --soft:#fff8e1;
      --card:#fff3e0;
      --accent:#b59000;
      --good:#4CAF50;
      --moderate:#b59000;
      --usg:#ff9800;
      --unhealthy:#f44336;
      --veryunhealthy:#9c27b0;
      --hazard:#4a0b0b;
      --muted:#555;
      font-family: Arial, Helvetica, sans-serif;
    }
    body { margin:0; background:var(--soft); color:#222; }
    header {
      display:flex; justify-content:space-between; align-items:center;
      padding:18px 36px; background:var(--mustard); color:white; position:sticky; top:0; z-index:100;
    }
    header h2 { margin:0; font-size:22px;}
    nav a { margin-left:18px; color:white; text-decoration:none; font-weight:600; }
    .hero {
      background: url('image.jpg') center/cover no-repeat;
      height:200px; display:flex; align-items:center; justify-content:center; color:white; text-shadow:0 2px 6px rgba(0,0,0,0.3);
    }
    .hero h1 { margin:0; font-size:34px; }
    .container { max-width:1000px; margin:28px auto; padding:18px; }
    .controls { display:flex; gap:12px; align-items:center; margin-bottom:18px; flex-wrap:wrap; }
    input[type="number"]{ padding:10px; border-radius:8px; border:1px solid #ccc; width:160px; font-size:16px; }
    button { padding:10px 14px; border-radius:8px; border:none; background:var(--accent); color:white; font-weight:700; cursor:pointer; }
    .card { background:var(--card); padding:18px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.08); }
    .status-box { padding:12px 14px; border-radius:10px; font-weight:700; display:inline-block; margin-bottom:12px; color:white; }
    .precautions { margin-top:12px; }
    .precautions ul { padding-left:20px; }
    .precautions li { margin-bottom:8px; line-height:1.4; }
    .range-label { font-weight:800; margin-bottom:6px; display:block; }
    footer { text-align:center; padding:16px; background:var(--mustard); color:white; margin-top:28px; }

    /* colors per status */
    .good { background:var(--good); color:white; }
    .moderate { background:var(--moderate); }
    .usg { background:var(--usg); color:white; }
    .unhealthy { background:var(--unhealthy); color:white; }
    .veryunhealthy { background:var(--veryunhealthy); color:white; }
    .hazard { background:var(--hazard); color:white; }

    @media (max-width:720px){
      .controls{ flex-direction:column; align-items:flex-start; }
      input[type="number"]{ width:100%; }
    }
  </style>
</head>
<body>
  <header>
    <h2>AirSafe</h2>
    <nav>
      <a href="front.html">Home</a>
      <a href="air-detection.html">Air Detection</a>
      <a href="aqi-info.html">AQI Info</a>
      <a href="health-tips.html">Health Tips</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <section class="hero">
    <h1>Health Tips for Air Quality</h1>
  </section>

  <main class="container">
    <div class="card">
      <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:12px;">
        <div>
          <span style="font-size:18px; font-weight:700;">Get precautions by AQI</span>
          <div style="color:var(--muted); margin-top:6px;">Enter AQI (0–500) or open this page with <code>?aqi=120</code> in the URL</div>
        </div>

        <div class="controls">
          <input id="aqiInput" type="number" min="0" max="1000" placeholder="Enter AQI (e.g. 85)">
          <button id="checkBtn">Show Precautions</button>
          <button id="autoBtn" title="Use example values">Example</button>
        </div>
      </div>

      <hr style="margin:14px 0; border:none; border-top:1px solid #eee;">

      <div id="resultArea">
        <!-- dynamic status + precautions go here -->
        <div id="statusBox" class="status-box good">AQI Status: <span id="statusText">--</span></div>

        <div class="precautions">
          <span class="range-label">Precautions:</span>
          <div id="precList" aria-live="polite">
            <em style="color:var(--muted)">Enter an AQI value to see tailored precautions.</em>
          </div>
        </div>
      </div>
    </div>

    <section style="margin-top:18px;" class="card">
      <h3 style="margin-top:0;">AQI Ranges Quick Reference</h3>
      <ul>
        <li><strong>0–50 (Good)</strong> — Air quality is satisfactory.</li>
        <li><strong>51–100 (Moderate)</strong> — Acceptable; sensitive groups should be cautious.</li>
        <li><strong>101–150 (Unhealthy for Sensitive Groups)</strong> — Reduce outdoor activity for sensitive people.</li>
        <li><strong>151–200 (Unhealthy)</strong> — Everyone may begin to experience health effects.</li>
        <li><strong>201–300 (Very Unhealthy)</strong> — Health warnings of emergency conditions.</li>
        <li><strong>301+ (Hazardous)</strong> — Emergency conditions. Avoid outdoor activity.</li>
      </ul>
    </section>
  </main>

  <footer>
    © 2025 AirSafe | Tailored Health Advice for AQI
  </footer>

  <script>
    (function(){
      // Precautions mapping — 2-3 concise, actionable items per class
      const precautions = {
        good: [
          "Enjoy outdoor activities — air quality is satisfactory.",
          "No special precautions needed for most people."
        ],
        moderate: [
          "Sensitive individuals (asthma, elderly, children) should consider reducing prolonged outdoor exertion.",
          "Avoid heavy outdoor exercise during peak traffic hours."
        ],
        usg: [ // Unhealthy for Sensitive Groups
          "Sensitive groups (children, elderly, pregnant, respiratory/cardiac patients) should limit prolonged outdoor exertion.",
          "Consider wearing an N95 mask if you must go outside.",
          "Use indoor air purifiers if available."
        ],
        unhealthy: [
          "Everyone should reduce prolonged or heavy outdoor exertion.",
          "Wear N95/FFP2 masks outdoors and keep windows closed if outdoor air is poor."
        ],
        veryunhealthy: [
          "Avoid all outdoor physical activities. Stay indoors with filtered air if possible.",
          "Use high-efficiency air purifiers and consider moving vulnerable people to cleaner-air locations."
        ],
        hazard: [
          "Stay indoors, keep windows and doors closed. Use a reliable air purifier (HEPA) if available.",
          "Wear an N95/FFP2 mask if you must go outside; seek medical help for any breathing difficulties."
        ]
      };

      // Helper to set status UI
      function setStatus(aqi){
        const box = document.getElementById('statusBox');
        const txt = document.getElementById('statusText');
        const list = document.getElementById('precList');

        let cls='', label='', items=[];
        if(aqi <= 50){
          cls='good'; label='Good (0-50)'; items=precautions.good;
        } else if(aqi <= 100){
          cls='moderate'; label='Moderate (51-100)'; items=precautions.moderate;
        } else if(aqi <= 150){
          cls='usg'; label='Unhealthy for Sensitive Groups (101-150)'; items=precautions.usg;
        } else if(aqi <= 200){
          cls='unhealthy'; label='Unhealthy (151-200)'; items=precautions.unhealthy;
        } else if(aqi <= 300){
          cls='veryunhealthy'; label='Very Unhealthy (201-300)'; items=precautions.veryunhealthy;
        } else {
          cls='hazard'; label='Hazardous (301+)'; items=precautions.hazard;
        }

        // update UI
        box.className = 'status-box ' + cls;
        txt.textContent = label + " — AQI: " + (isFinite(aqi) ? aqi : '--');

        // build list HTML
        let html = '<ul>';
        for(let i=0;i<items.length;i++){
          html += '<li>' + items[i] + '</li>';
        }
        html += '</ul>';
        list.innerHTML = html;
      }

      // read query param if present
      function getAqiFromUrl(){
        const params = new URLSearchParams(window.location.search);
        const aqi = params.get('aqi');
        if(aqi !== null && aqi !== '') {
          const val = Number(aqi);
          if(!isNaN(val)) return val;
        }
        return null;
      }

      // Wire up controls
      const input = document.getElementById('aqiInput');
      const btn = document.getElementById('checkBtn');
      const autoBtn = document.getElementById('autoBtn');

      btn.addEventListener('click', ()=>{
        const v = Number(input.value);
        if(isNaN(v) || v < 0){
          alert('Please enter a valid AQI (0 or greater).');
          return;
        }
        setStatus(Math.round(v));
      });

      autoBtn.addEventListener('click', ()=>{
        // cycle example values for demo
        const examples = [25, 70, 120, 175, 230, 380];
        const cur = Number(input.value) || -1;
        let next = examples.find(n => n > cur);
        if(next === undefined) next = examples[0];
        input.value = next;
        setStatus(next);
      });

      // If page loaded with ?aqi= value, auto-display
      const fromUrl = getAqiFromUrl();
      if(fromUrl !== null){
        input.value = fromUrl;
        setStatus(Math.round(fromUrl));
      } else {
        // default message
        document.getElementById('precList').innerHTML = '<em style="color:var(--muted)">Enter an AQI value above or open this page with <code>?aqi=120</code> in the URL to view precautions.</em>';
      }

    })();
  </script>
</body>
</html>